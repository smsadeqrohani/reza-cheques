# محاسبه‌گر اقساط فاکتور

یک اپلیکیشن React برای محاسبه اقساط فاکتور با استفاده از فرمول اقساط مساوی (Annuity)

## ویژگی‌ها

- ✅ رابط کاربری کاملاً فارسی با پشتیبانی RTL
- ✅ حالت تاریک (Dark Mode) پیش‌فرض
- ✅ تقویم جلالی (شمسی) برای انتخاب تاریخ
- ✅ محاسبه دقیق اقساط با فرمول Annuity
- ✅ اعتبارسنجی کامل فرم‌ها
- ✅ خروجی چاپ تمیز و حرفه‌ای
- ✅ قابلیت کپی کردن نتایج به فرمت CSV
- ✅ طراحی ریسپانسیو

## فرمول محاسباتی

### فرمول اصلی اقساط مساوی:
```
A = (P * r * (1 + r)^n) / ((1 + r)^n - 1)
```

که در آن:
- `A` = مبلغ قسط ثابت
- `P` = اصل تأمین مالی (مبلغ کل - پیش‌پرداخت)
- `r` = نرخ سود ماهانه (نرخ سالانه ÷ ۱۲ ÷ ۱۰۰)
- `n` = تعداد اقساط

### محاسبه جزئیات هر قسط:
- **سود ماه t**: `interest_t = balance_{t-1} * r`
- **اصل ماه t**: `principal_t = A - interest_t`
- **مانده پایان**: `balance_t = balance_{t-1} - principal_t`

## نصب و راه‌اندازی

### پیش‌نیازها
- Node.js (نسخه ۱۶ یا بالاتر)
- npm یا yarn

### مراحل نصب

۱. کلون کردن پروژه:
```bash
git clone <repository-url>
cd reza-cheques
```

۲. نصب وابستگی‌ها:
```bash
npm install
```

۳. اجرای پروژه در حالت توسعه:
```bash
npm run dev
```

۴. باز کردن مرورگر در آدرس:
```
http://localhost:5173
```

### ساخت نسخه تولید
```bash
npm run build
```

## نحوه استفاده

### ورودی‌های مورد نیاز:

۱. **شماره فاکتور**: شماره منحصر به فرد فاکتور
۲. **تاریخ فاکتور**: تاریخ صدور فاکتور (جلالی)
۳. **نام خریدار**: نام کامل خریدار
۴. **مبلغ کل فاکتور**: کل مبلغ فاکتور به تومان
۵. **پیش‌پرداخت**: مبلغ پیش‌پرداخت (اختیاری)
۶. **تعداد اقساط**: تعداد ماه‌های اقساط (۱ تا ۶۰)
۷. **نرخ سود سالانه**: نرخ سود سالانه (پیش‌فرض: ۳۶٪)

### خروجی‌ها:

#### خلاصه قرارداد:
- اطلاعات کلی فاکتور و مشتری
- مبالغ کل، پیش‌پرداخت و اصل تأمین مالی
- نرخ‌های سود سالانه و ماهانه
- جمع سود و کل پرداختی

#### جدول اقساط:
- شماره قسط
- تاریخ سررسید (جلالی)
- مبلغ قسط ثابت
- سهم سود
- سهم اصل
- مانده پس از پرداخت

### قابلیت‌های اضافی:

- **چاپ**: خروجی تمیز و حرفه‌ای برای چاپ
- **کپی CSV**: کپی کردن جدول اقساط به کلیپ‌بورد
- **تغییر تم**: سوییچ بین حالت روشن و تاریک
- **ریست**: پاک کردن تمام فیلدها

## اعتبارسنجی‌ها

- پیش‌پرداخت نمی‌تواند بیشتر از مبلغ کل باشد
- تعداد اقساط باید بین ۱ تا ۶۰ باشد
- نرخ سود نمی‌تواند منفی باشد
- تمام فیلدهای اجباری باید پر شوند

## تکنولوژی‌های استفاده شده

- **React 18** با TypeScript
- **Vite** برای build و development
- **Tailwind CSS** برای استایل‌دهی
- **dayjs** با پلاگین jalaliday برای تاریخ جلالی
- **RTL** کامل برای زبان فارسی

## ساختار پروژه

```
src/
├── components/
│   └── DatePicker.tsx          # کامپوننت انتخاب تاریخ جلالی
├── utils/
│   ├── dateUtils.ts            # توابع کار با تاریخ جلالی
│   └── calculationUtils.ts     # توابع محاسباتی اقساط
├── App.tsx                     # کامپوننت اصلی
├── main.tsx                    # نقطه ورود اپلیکیشن
└── index.css                   # استایل‌های اصلی
```

## نکات مهم

### تاریخ‌های سررسید:
- اولین قسط: دقیقاً یک ماه بعد از تاریخ فاکتور
- اقساط بعدی: ماه به ماه
- اگر روز ماه بعد وجود نداشت، به آخر همان ماه منتقل می‌شود

### گرد کردن:
- تمام مبالغ به نزدیک‌ترین تومان گرد می‌شوند
- اختلاف گرد کردن در قسط آخر تعدیل می‌شود
- جمع اقساط دقیقاً برابر اصل + سود خواهد بود

### حالت بدون سود:
- اگر نرخ سود صفر باشد، اقساط مساوی خواهد بود: `A = P / n`

## مشارکت

برای مشارکت در پروژه:
۱. Fork کردن پروژه
۲. ایجاد branch جدید
۳. اعمال تغییرات
۴. ارسال Pull Request

## لایسنس

این پروژه تحت لایسنس MIT منتشر شده است.
